:root{--bg: #0d1117;--surface: #161b22;--border: #30363d;--text: #e6edf3;--text-dim: #8b949e;--accent: #58a6ff;--green: #3fb950;--yellow: #d29922;--red: #f85149;--orange: #db6d28;--font-mono: "SF Mono", "Fira Code", "Cascadia Code", monospace;--font-ui: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--sidebar-width: 250px;--chat-width: 350px}*{box-sizing:border-box;margin:0;padding:0}html,body,#root{height:100%;width:100%;overflow:hidden}body{font-family:var(--font-ui);background:var(--bg);color:var(--text);line-height:1.5}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--text-dim)}.auth-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:1rem}.auth-screen h1{font-size:1.5rem;font-weight:600}.auth-screen h1 span{color:var(--accent)}.auth-form{display:flex;align-items:center;gap:.5rem}.auth-form input{background:var(--surface);border:1px solid var(--border);color:var(--text);padding:.5rem .75rem;border-radius:6px;font-size:.9rem;width:280px;outline:none}.auth-form input:focus{border-color:var(--accent)}.auth-form button{background:var(--accent);color:var(--bg);border:none;padding:.5rem 1rem;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer}.auth-form button:hover{opacity:.85}.auth-error{color:var(--red);font-size:.85rem}.status-dot{width:8px;height:8px;border-radius:50%;background:var(--red);display:inline-block}.status-dot.ok{background:var(--green)}.workspace{display:flex;flex-direction:column;height:100%}.top-bar{display:flex;align-items:center;justify-content:space-between;padding:.5rem .75rem;border-bottom:1px solid var(--border);background:var(--surface);min-height:40px;flex-shrink:0}.top-bar h1{font-size:1rem;font-weight:600}.top-bar h1.home-link{cursor:pointer;-webkit-user-select:none;user-select:none}.top-bar h1.home-link:hover span{text-decoration:underline}.top-bar h1 span{color:var(--accent)}.top-bar-right{display:flex;align-items:center;gap:.5rem}.top-bar-right .status-dot{cursor:help}.toggle-btn{background:var(--bg);border:1px solid var(--border);color:var(--text-dim);padding:.25rem .5rem;border-radius:4px;font-size:.8rem;cursor:pointer}.toggle-btn:hover{color:var(--text);border-color:var(--text-dim)}.toggle-btn.active{color:var(--accent);border-color:var(--accent)}.main-area{display:flex;flex:1;min-height:0}.sidebar{width:var(--sidebar-width);border-right:1px solid var(--border);background:var(--surface);display:flex;flex-direction:column;flex-shrink:0;overflow:hidden}.sidebar-header{padding:.5rem;border-bottom:1px solid var(--border)}.root-selector{display:flex;gap:.25rem;margin-bottom:.35rem;flex-wrap:wrap}.root-tab{background:var(--bg);border:1px solid var(--border);color:var(--text-dim);padding:.2rem .5rem;border-radius:4px;font-size:.75rem;cursor:pointer;transition:all .15s}.root-tab:hover{color:var(--text);border-color:var(--text-dim)}.root-tab.active{background:var(--accent);color:var(--bg);border-color:var(--accent)}.sidebar-header-row{display:flex;gap:.35rem}.sidebar-search{flex:1;min-width:0;background:var(--bg);border:1px solid var(--border);color:var(--text);padding:.35rem .5rem;border-radius:4px;font-size:.8rem;outline:none}.sidebar-search:focus{border-color:var(--accent)}.new-file-btn{background:var(--bg);border:1px solid var(--border);color:var(--text-dim);width:28px;height:28px;border-radius:4px;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;line-height:1}.new-file-btn:hover{color:var(--accent);border-color:var(--accent)}.context-menu{position:fixed;background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:.25rem;z-index:100;min-width:120px;box-shadow:0 4px 12px #0006}.context-menu button{display:block;width:100%;text-align:left;background:none;border:none;color:var(--text);padding:.35rem .6rem;font-size:.82rem;cursor:pointer;border-radius:4px}.context-menu button:hover{background:#ffffff0f}.context-menu button.danger{color:var(--red)}.context-menu button.danger:hover{background:#f851491a}.file-tree{flex:1;overflow-y:auto;padding:.25rem 0}.tree-item{display:flex;align-items:center;padding:.2rem .5rem;padding-left:calc(.5rem + var(--depth, 0) * 1rem);font-size:.82rem;cursor:pointer;color:var(--text);gap:.35rem;-webkit-user-select:none;user-select:none}.tree-item:hover{background:#ffffff08}.tree-item.selected{background:#58a6ff1a}.tree-icon{font-size:.75rem;width:1em;text-align:center;flex-shrink:0;color:var(--text-dim)}.tree-icon.dir{color:var(--accent)}.tree-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.content{flex:1;overflow-y:auto;min-width:0}.content-inner{padding:1rem;max-width:1200px}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem}.panel{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:1rem}.panel h2{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--text-dim);margin-bottom:.75rem}.stat-row{display:flex;justify-content:space-between;padding:.3rem 0;font-size:.9rem}.stat-label{color:var(--text-dim)}.stat-value{font-weight:500;font-variant-numeric:tabular-nums}.context-gauge{margin-top:.5rem}.bar-track{height:8px;background:var(--bg);border-radius:4px;overflow:hidden}.bar-fill{height:100%;border-radius:4px;transition:width .4s ease,background-color .4s ease;min-width:2px}.bar-label{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-dim);margin-top:.25rem}.panel table{width:100%;border-collapse:collapse;font-size:.85rem}.panel th{text-align:left;color:var(--text-dim);font-weight:500;padding:.4rem .5rem;border-bottom:1px solid var(--border)}.panel td{padding:.4rem .5rem;border-bottom:1px solid var(--border)}.panel tr:last-child td{border-bottom:none}.badge{display:inline-block;padding:.1rem .5rem;border-radius:10px;font-size:.75rem;font-weight:500}.badge-on{background:#3fb95026;color:var(--green)}.badge-off{background:#8b949e26;color:var(--text-dim)}.usage-grid{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}.usage-card{background:var(--bg);border-radius:6px;padding:.6rem .75rem}.usage-card .label{font-size:.75rem;color:var(--text-dim);margin-bottom:.2rem}.usage-card .value{font-size:1.1rem;font-weight:600;font-variant-numeric:tabular-nums}.usage-card .value.cost{color:var(--green)}.activity-list{max-height:280px;overflow-y:auto}.activity-item{display:flex;align-items:baseline;gap:.5rem;padding:.35rem 0;border-bottom:1px solid var(--border);font-size:.85rem}.activity-item:last-child{border-bottom:none}.activity-sender{font-weight:500;color:var(--accent);min-width:80px}.activity-platform{color:var(--text-dim);font-size:.75rem;min-width:60px}.activity-time{color:var(--text-dim);font-size:.75rem;margin-left:auto;white-space:nowrap}.activity-rt{color:var(--text-dim);font-size:.7rem;min-width:50px;text-align:right}.session-item{display:flex;align-items:center;gap:.5rem;padding:.4rem .5rem;border-bottom:1px solid var(--border);font-size:.85rem;border-radius:4px}.session-item:last-child{border-bottom:none}.session-item:hover{background:#ffffff08}.session-name{font-weight:500}.session-state{font-size:.75rem}.session-state.running{color:var(--green)}.session-state.idle{color:var(--text-dim)}.session-state.starting{color:var(--yellow)}.session-state.stopping{color:var(--orange)}.session-cost{margin-left:auto;font-size:.75rem;color:var(--green);font-variant-numeric:tabular-nums}.session-activity{font-size:.7rem;color:var(--text-dim)}.log-panel{grid-column:1 / -1}.log-container{max-height:320px;overflow-y:auto;background:var(--bg);border-radius:6px;padding:.5rem;font-family:var(--font-mono);font-size:.78rem;line-height:1.6}.log-entry{padding:.1rem .3rem;border-radius:3px}.log-entry:hover{background:#ffffff08}.log-ts{color:var(--text-dim)}.log-level{font-weight:600;min-width:42px;display:inline-block}.log-level.info{color:var(--accent)}.log-level.warn{color:var(--yellow)}.log-level.error{color:var(--red)}.log-msg{color:var(--text)}.empty-state{color:var(--text-dim);font-style:italic;font-size:.85rem;padding:1rem 0;text-align:center}.file-viewer{padding:0}.file-viewer.edit-mode{display:flex;flex-direction:column;height:calc(100vh - 40px - 2rem)}.file-breadcrumb{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;margin-bottom:.75rem;border-bottom:1px solid var(--border);font-size:.85rem;flex-shrink:0}.file-breadcrumb .back-btn{background:none;border:1px solid var(--border);color:var(--text-dim);padding:.15rem .5rem;border-radius:4px;cursor:pointer;font-size:.8rem}.file-breadcrumb .back-btn:hover{color:var(--text);border-color:var(--text-dim)}.file-breadcrumb .file-path{color:var(--text-dim);font-family:var(--font-mono);font-size:.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-actions{display:flex;align-items:center;gap:.4rem;margin-left:auto;flex-shrink:0}.save-btn{background:var(--accent);color:var(--bg);border:none;padding:.15rem .6rem;border-radius:4px;font-size:.8rem;font-weight:600;cursor:pointer}.save-btn:hover{opacity:.85}.save-btn:disabled{opacity:.5;cursor:not-allowed}.save-indicator{font-size:.75rem;white-space:nowrap}.save-indicator.dirty{color:var(--yellow)}.save-indicator.saving{color:var(--text-dim)}.save-indicator.saved{color:var(--green)}.save-indicator.error{color:var(--red)}.editor-container{flex:1;min-height:0;overflow:hidden;border-radius:6px;border:1px solid var(--border)}.cm-editor-wrapper,.cm-editor-wrapper .cm-editor{height:100%}.file-content-pre{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:1rem;font-family:var(--font-mono);font-size:.82rem;line-height:1.6;overflow-x:auto;white-space:pre-wrap;word-break:break-word}.markdown-body{font-size:.95rem;line-height:1.7}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:1.25em 0 .5em;font-weight:600;line-height:1.3}.markdown-body h1{font-size:1.5em;border-bottom:1px solid var(--border);padding-bottom:.3em}.markdown-body h2{font-size:1.3em;border-bottom:1px solid var(--border);padding-bottom:.3em}.markdown-body h3{font-size:1.15em}.markdown-body p{margin:.75em 0}.markdown-body a{color:var(--accent);text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body code{background:var(--bg);padding:.15em .4em;border-radius:4px;font-family:var(--font-mono);font-size:.88em}.markdown-body pre{background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:.75rem 1rem;overflow-x:auto;margin:.75em 0}.markdown-body pre code{background:none;padding:0;font-size:.85em;line-height:1.6}.markdown-body ul,.markdown-body ol{margin:.5em 0;padding-left:1.5em}.markdown-body li{margin:.25em 0}.markdown-body blockquote{border-left:3px solid var(--border);padding-left:1rem;color:var(--text-dim);margin:.75em 0}.markdown-body table{border-collapse:collapse;width:100%;margin:.75em 0}.markdown-body th,.markdown-body td{border:1px solid var(--border);padding:.4rem .75rem;text-align:left}.markdown-body th{background:var(--surface);font-weight:600}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid var(--border);margin:1.5em 0}.wiki-link{color:var(--accent);cursor:pointer;text-decoration:none;border-bottom:1px dashed var(--accent)}.wiki-link:hover{text-decoration:none;border-bottom-style:solid}.chat-panel{width:var(--chat-width);border-left:1px solid var(--border);background:var(--surface);display:flex;flex-direction:column;flex-shrink:0}.chat-header{padding:.5rem .75rem;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;font-size:.85rem;font-weight:600;color:var(--text-dim);text-transform:uppercase;letter-spacing:.05em}.chat-status{display:flex;align-items:center;gap:.35rem;font-size:.75rem;font-weight:400;text-transform:none;letter-spacing:normal;color:var(--text-dim)}.chat-messages{flex:1;overflow-y:auto;padding:.5rem;display:flex;flex-direction:column;gap:.5rem}.chat-msg{font-size:.85rem;line-height:1.5;padding:.5rem .65rem;border-radius:6px;max-width:95%;word-break:break-word}.chat-msg.user{background:#58a6ff1f;align-self:flex-end;border:1px solid rgba(88,166,255,.2)}.chat-msg.agent{background:var(--bg);align-self:flex-start}.chat-msg code{background:#ffffff0f;padding:.1em .3em;border-radius:3px;font-family:var(--font-mono);font-size:.88em}.chat-msg pre{background:#0000004d;padding:.5rem;border-radius:4px;overflow-x:auto;margin:.3em 0}.chat-msg pre code{background:none;padding:0}.chat-input-area{padding:.5rem;border-top:1px solid var(--border);display:flex;gap:.35rem}.chat-input{flex:1;background:var(--bg);border:1px solid var(--border);color:var(--text);padding:.4rem .6rem;border-radius:6px;font-size:.85rem;font-family:var(--font-ui);outline:none;resize:none;min-height:36px;max-height:120px}.chat-input:focus{border-color:var(--accent)}.chat-send-btn{background:var(--accent);color:var(--bg);border:none;padding:.4rem .75rem;border-radius:6px;font-size:.85rem;font-weight:600;cursor:pointer;align-self:flex-end}.chat-send-btn:hover{opacity:.85}.chat-send-btn:disabled{opacity:.4;cursor:not-allowed}.content-canvas{padding:0;overflow:hidden}.content-canvas .content-inner{padding:1rem}.canvas-wrapper{width:100%;height:100%;position:relative;background:var(--bg)}.canvas-save-overlay{position:absolute;top:.5rem;right:.5rem;z-index:10;pointer-events:none}.canvas-save-indicator{font-size:.75rem;white-space:nowrap;padding:.2rem .5rem;border-radius:4px;background:#161b22d9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.canvas-save-indicator.dirty{color:var(--yellow)}.canvas-save-indicator.saving{color:var(--text-dim)}.canvas-save-indicator.saved{color:var(--green)}.canvas-save-indicator.error{color:var(--red)}.canvas-wrapper .excalidraw{--color-surface-lowest: var(--bg) !important}@media(max-width:768px){.sidebar{position:fixed;top:40px;left:0;bottom:0;z-index:10;width:280px;transform:translate(-100%);transition:transform .2s ease}.sidebar.open{transform:translate(0)}.chat-panel{position:fixed;top:40px;right:0;bottom:0;z-index:10;width:320px;transform:translate(100%);transition:transform .2s ease}.chat-panel.open{transform:translate(0)}.overlay{position:fixed;right:0;bottom:0;left:0;top:40px;background:#00000080;z-index:9}.dashboard-grid{grid-template-columns:1fr}}.tool-call{border:1px solid var(--border);border-radius:6px;margin:.35rem 0;overflow:hidden;font-size:.8rem}.tool-call--running{border-color:var(--yellow);border-left:3px solid var(--yellow)}.tool-call--complete{border-color:var(--border);border-left:3px solid var(--green)}.tool-call--error{border-color:#f8514966;border-left:3px solid var(--red);background:#f851490d}.tool-call-header{display:flex;align-items:center;gap:.35rem;padding:.3rem .5rem;cursor:pointer;-webkit-user-select:none;user-select:none;background:#ffffff05}.tool-call-header:hover{background:#ffffff0a}.tool-call-icon{font-size:.75rem;flex-shrink:0}.tool-call-name{font-weight:600;font-family:var(--font-mono);font-size:.78rem;color:var(--text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tool-call-status-icon{font-size:.7rem;flex-shrink:0;margin-left:auto}.tool-call--running .tool-call-status-icon{animation:tool-call-pulse 1.5s ease-in-out infinite}@keyframes tool-call-pulse{0%,to{opacity:1}50%{opacity:.4}}.tool-call-chevron{font-size:.6rem;color:var(--text-dim);flex-shrink:0}.tool-call-body{padding:.35rem .5rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:.3rem}.tool-call-args{font-family:var(--font-mono);font-size:.75rem;color:var(--text-dim);word-break:break-all;line-height:1.4}.tool-call-args-label{color:var(--text-dim);font-weight:500}.tool-call-result{font-size:.78rem;line-height:1.5}.tool-call-result--error{color:var(--red)}.tool-call-text{white-space:pre-wrap;word-break:break-word}.tool-call-image{max-width:100%;border-radius:4px;margin:.25rem 0}.tool-call-show-more{display:inline-block;margin-top:.25rem;background:none;border:none;color:var(--accent);font-size:.75rem;cursor:pointer;padding:0;text-decoration:underline}.tool-call-show-more:hover{opacity:.8}.tool-call-running-indicator{font-size:.75rem;color:var(--text-dim);font-style:italic;animation:tool-call-pulse 1.5s ease-in-out infinite}.chat-block-thinking{font-size:.78rem;color:var(--text-dim);font-style:italic;padding:.25rem 0}.thinking-label{font-weight:500;margin-right:.25rem}.file-viewer-image{display:flex;align-items:center;justify-content:center;flex:1;padding:1rem;overflow:auto;background:var(--bg)}.file-viewer-image-img{max-width:100%;max-height:100%;object-fit:contain;border-radius:6px;border:1px solid var(--border)}.file-content-code{tab-size:4;-moz-tab-size:4}
